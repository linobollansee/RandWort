<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Random German Words Translator</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    h1 { color: #333; }
    .word-container { margin-bottom: 12px; }
    .word { font-weight: bold; }
    .links a { margin-right: 8px; text-decoration: none; color: #007BFF; }
    .links a:hover { text-decoration: underline; }
    #reload { margin-top: 20px; padding: 8px 12px; }
  </style>
</head>
<body>
  <h1>10 Random German Words</h1>
  <div id="word-list">Loading wordsâ€¦</div>
  <button id="reload">Reload</button>

  <script>
    let germanWords = [];

    async function fetchWordList() {
      try {
        const response = await fetch('wordlist-german.txt');
        if (!response.ok) throw new Error('Failed to load word list');
        const text = await response.text();
        germanWords = text
          .split(/\r?\n/)
          .map(word => word.trim())
          .filter(word => word.length > 0);
      } catch (error) {
        document.getElementById('word-list').innerHTML = `<p style="color:red;">Error loading word list: ${error.message}</p>`;
      }
    }

    function pickRandomWords(arr, count) {
      const shuffled = [...arr].sort(() => 0.5 - Math.random());
      return shuffled.slice(0, count);
    }

    function createWordHTML(word) {
      const encodedWord = encodeURIComponent(word);

      // Links sorted by priority: quick translations first, then dictionaries, then examples & corpora
      const deeplUrl = `https://www.deepl.com/en/translator#de/en-us/${encodedWord}`;
      const googleUrl = `https://translate.google.com/?sl=de&tl=en&text=${encodedWord}&op=translate`;
      const reversoUrl = `https://www.reverso.net/Text%C3%BCbersetzung#sl=ger&tl=eng&text=${encodedWord}`;
      const dudenUrl = `https://www.duden.de/rechtschreibung/${encodedWord}`;
      const wiktionaryUrl = `https://de.wiktionary.org/wiki/${encodedWord}`;
      const dwdsUrl = `https://www.dwds.de/?q=${encodedWord}&from=wb`;
      const lingueeUrl = `https://www.linguee.com/german-english/search?source=auto&query=${encodedWord}`;
      const leoUrl = `https://dict.leo.org/german-english/${encodedWord}`;
      const ponsUrl = `https://en.pons.com/translate/german-english/${encodedWord}`;

      return `
        <div class="word-container">
          <span class="word">${word}</span>
          <div class="links">
            <a href="${deeplUrl}" target="_blank" rel="noopener noreferrer">DeepL</a>
            <a href="${googleUrl}" target="_blank" rel="noopener noreferrer">Google Translate</a>
            <a href="${reversoUrl}" target="_blank" rel="noopener noreferrer">Reverso</a>
            <a href="${dudenUrl}" target="_blank" rel="noopener noreferrer">Duden</a>
            <a href="${wiktionaryUrl}" target="_blank" rel="noopener noreferrer">Wiktionary</a>
            <a href="${dwdsUrl}" target="_blank" rel="noopener noreferrer">DWDS</a>
            <a href="${lingueeUrl}" target="_blank" rel="noopener noreferrer">Linguee</a>
            <a href="${leoUrl}" target="_blank" rel="noopener noreferrer">Leo</a>
            <a href="${ponsUrl}" target="_blank" rel="noopener noreferrer">PONS</a>
          </div>
        </div>
      `;
    }

    function displayWords() {
      if (germanWords.length === 0) {
        document.getElementById('word-list').innerHTML = 'No words loaded.';
        return;
      }
      const selected = pickRandomWords(germanWords, 10);
      document.getElementById('word-list').innerHTML = selected.map(createWordHTML).join('');
    }

    document.getElementById('reload').addEventListener('click', displayWords);

    window.onload = async () => {
      await fetchWordList();
      displayWords();
    };
  </script>
</body>
</html>
